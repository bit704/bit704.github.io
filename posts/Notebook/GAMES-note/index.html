

<!DOCTYPE html>
<html lang="zh-CN-spec" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://bit704.oss-cn-beijing.aliyuncs.com/image/2023-10-17-logo.png">
  <link rel="icon" href="https://bit704.oss-cn-beijing.aliyuncs.com/image/2023-10-17-logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="bit704">
  <meta name="keywords" content="blog">
  
    <meta name="description" content="GAMES系列网络课程简要学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="GAMES笔记">
<meta property="og:url" content="https://reddish.fun/posts/Notebook/GAMES-note/index.html">
<meta property="og:site_name" content="Homeworld">
<meta property="og:description" content="GAMES系列网络课程简要学习笔记">
<meta property="og:locale">
<meta property="article:published_time" content="2023-01-04T16:00:00.000Z">
<meta property="article:author" content="bit704">
<meta property="article:tag" content="CG">
<meta name="twitter:card" content="summary_large_image">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>GAMES笔记 - Homeworld</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"reddish.fun","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":50,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 65vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>逝者如斯夫！不舍昼夜。</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>联系我</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-link-fill"></i>
                <span>更多</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/links/">
                    
                    <span>外部链接</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://reddish.fun/posts/Article/additional/">
                    
                    <span>一些说明</span>
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://bit704.oss-cn-beijing.aliyuncs.com/image/2022-11-15-spaceplane.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="GAMES笔记"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-01-05 00:00" pubdate>
          2023年1月5日 凌晨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          14k 字
        
      </span>
    

    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">GAMES笔记</h1>
            
            
              <div class="markdown-body">
                
                <p>GAMES系列网络课程简要学习笔记</p>
<span id="more"></span>
<p class="note note-primary">
二次整理自网络教程。
</p>
<p><a target="_blank" rel="noopener" href="https://games-cn.org/">计算机图形学与混合现实在线平台 –
GAMES: Graphics And Mixed Environment Symposium</a></p>
<h1 id="games101-现代计算机图形学入门">GAMES101
现代计算机图形学入门</h1>
<p>闫令琪老师</p>
<p><a
target="_blank" rel="noopener" href="https://sites.cs.ucsb.edu/~lingqi/teaching/games101.html">GAMES101</a></p>
<p>参考书：Fundamentals of Computer Graphics 第四版</p>
<h2 id="overview-of-computer-graphics">01 Overview of Computer
Graphics</h2>
<p>What is Computer Graphics?</p>
<ul>
<li>The use of computers to synthesize and manipulate visual
information</li>
</ul>
<p>Why study Computer Graphics?</p>
<ul>
<li>Applications</li>
<li>Fundamental Intellectual Challenges</li>
<li>Technical Challenges</li>
</ul>
<p>Course Topics</p>
<ul>
<li>Rasterization</li>
<li>Curves and Meshed</li>
<li>Ray Tracing</li>
<li>Animation / Simulation</li>
</ul>
<p>GAMES101不教API和工具。</p>
<p>CV和CG是互逆的一对。</p>
<p>要求：Do not publish your code (on Github, etc.) for assignments
using our skeleton code.</p>
<h2 id="review-of-linear-algebra">02 Review of Linear Algebra</h2>
<p>Graphics' Dependencies</p>
<ul>
<li>Basic mathematics
<ul>
<li>Linear algebra, calculus, statisics</li>
</ul></li>
<li>Basic physics
<ul>
<li>Optics, Mechanics</li>
</ul></li>
<li>Misc
<ul>
<li>Signal processing</li>
<li>Numerical analysis</li>
</ul></li>
<li>And a bit of aesthetics</li>
</ul>
<p>这节课主要复习基础线代，不再赘述。</p>
<h2 id="transformation">03 Transformation</h2>
<ul>
<li>Why study transformation
<ul>
<li>Modeling</li>
<li>Viewing</li>
</ul></li>
</ul>
<h3 id="d-transformation">2D transformation</h3>
<p>Scale Matrix: <span class="math display">\[
\begin{pmatrix}
x^{&#39;}  \\
y^{&#39;}
\end{pmatrix}
=
\begin{pmatrix}
s_{x} &amp; 0\\
0 &amp; s_{y}
\end{pmatrix}
\cdot
\begin{pmatrix}
x  \\
y
\end{pmatrix}
\]</span> Reflection Matrix: (with respect to the Y-axis) <span
class="math display">\[
\begin{pmatrix}
x^{&#39;}  \\
y^{&#39;}
\end{pmatrix}
=
\begin{pmatrix}
-1 &amp; 0\\
0 &amp; 1
\end{pmatrix}
\cdot
\begin{pmatrix}
x  \\
y
\end{pmatrix}
\]</span> Shear Matrix: (just like shear a square to a rhombus) <span
class="math display">\[
\begin{pmatrix}
x^{&#39;}  \\
y^{&#39;}
\end{pmatrix}
=
\begin{pmatrix}
1 &amp; a\\
0 &amp; 1
\end{pmatrix}
\cdot
\begin{pmatrix}
x  \\
y
\end{pmatrix}
\]</span> Rotation Matrix: (about the origin(0,0), CCW by default) <span
class="math display">\[
\begin{pmatrix}
x^{&#39;}  \\
y^{&#39;}
\end{pmatrix}
=
\begin{pmatrix}
cos\theta  &amp; -sin\theta\\
sin\theta &amp; cos\theta
\end{pmatrix}
\cdot
\begin{pmatrix}
x  \\
y
\end{pmatrix}
\]</span>
用顶点在原点的正方形在坐标轴上的另外两个顶点转一下就推导出来了。</p>
<h3 id="homogeneous-coordinates">Homogeneous coordinates</h3>
<p>From (affine map = linear map + translation) <span
class="math display">\[
\begin{pmatrix}
x^{&#39;}  \\
y^{&#39;}
\end{pmatrix}
=
\begin{pmatrix}
a &amp; b\\
c &amp; d
\end{pmatrix}
\cdot
\begin{pmatrix}
x  \\
y
\end{pmatrix}
+
\begin{pmatrix}
t_{x}  \\
t_{y}
\end{pmatrix}
\]</span> to (using homogenous coordinates) <span
class="math display">\[
\begin{pmatrix}
x^{&#39;}  \\
y^{&#39;}  \\
1
\end{pmatrix}
=
\begin{pmatrix}
a &amp; b &amp; t_{x} \\
c &amp; d &amp; t_{y} \\
0 &amp; 0 &amp; 1
\end{pmatrix}
\cdot
\begin{pmatrix}
x  \\
y  \\
1
\end{pmatrix}
\]</span></p>
<p>2D Point = <span class="math inline">\((x, y, 1)^T\)</span></p>
<p>2D vector = <span class="math inline">\((x, y, 0)^T\)</span></p>
<ul>
<li>vector + vector = vector</li>
<li>point - point = vector</li>
<li>point + vector = point</li>
<li><strong>point + point = midpoint</strong></li>
</ul>
<p><span class="math display">\[
\begin{pmatrix}
x  \\
y  \\
w
\end{pmatrix}
is\ the\ 2D\ Point
\begin{pmatrix}
x/w  \\
y/w  \\
1
\end{pmatrix}
,\ w\ \ne\ 0
\]</span></p>
<p>How to rotate around a given point c?</p>
<ol type="1">
<li>Translate center to origin</li>
<li>Rotate</li>
<li>Translate back</li>
</ol>
<p>矩阵乘法没有交换律但是有结合律。</p>
<h2 id="transformation-cont.">04 Transformation Cont.</h2>
<h3 id="d-transformation-1">3D transformation</h3>
<p><span class="math display">\[
R_{x}(\alpha)=
\begin{pmatrix}
1 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; cos\alpha  &amp; -sin\alpha  &amp; 0\\
0 &amp; sin\alpha  &amp; cos\alpha  &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 1
\end{pmatrix}\\
R_{y}(\alpha)=
\begin{pmatrix}
cos\alpha &amp; 0 &amp; sin\alpha &amp; 0\\
0 &amp; 1  &amp; 0  &amp; 0\\
-sin\alpha &amp; 0  &amp; cos\alpha  &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 1
\end{pmatrix}\\
R_{z}(\alpha)=
\begin{pmatrix}
cos\alpha &amp; -sin\alpha &amp; 0 &amp; 0\\
sin\alpha &amp; cos\alpha  &amp; 0 &amp; 0\\
0 &amp; 0  &amp; 0  &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 1
\end{pmatrix}
\]</span></p>
<p>按叉乘，<span class="math inline">\(y\times z=x\)</span>，<span
class="math inline">\(z\times x=y\)</span>，<span
class="math inline">\(x\times
y=z\)</span>，<strong>循环对称</strong>，所以y的旋转矩阵看上去和另外两个是相反的。</p>
<p><img
src="https://bit704.oss-cn-beijing.aliyuncs.com/image/2023-04-11-Euler.jpg" srcset="/img/loading.gif" lazyload
alt="Euler angles" /> <span class="math display">\[
R_{xyz}(\alpha,\beta,\gamma)=R_x(\alpha)R_y(\beta)R_z(\gamma)
\]</span> Rodrigues's Rotation Formula</p>
<p>Rotation by angle <span class="math inline">\(\alpha\)</span> around
axis <span class="math inline">\(n\)</span> <span
class="math display">\[
R(n,\alpha)=cos(\alpha)I+(1-cos(\alpha))nn^T+sin(\alpha)
\begin{pmatrix}
0 &amp; -n_z &amp; n_y \\
n_z &amp; 0 &amp; -n_x \\
-n_y &amp; n_x &amp; 0
\end{pmatrix}
\]</span></p>
<h3 id="viewing-transformation">Viewing transformation</h3>
<h4 id="view-camera-transformation">View / Camera transformation</h4>
<p>camera</p>
<ul>
<li>Position <span class="math inline">\(\vec{e}\)</span> (origin)</li>
<li>Look-at direction <span class="math inline">\(\hat{g}\)</span> (Z
axis)</li>
<li>Up direction <span class="math inline">\(\hat{t}\)</span> (Y
axis)</li>
</ul>
<p><span class="math display">\[
M_{view}=R_{view}T_{view}=
\begin{bmatrix}
x_{\hat{g}\times\hat{t} }  &amp; y_{\hat{g}\times\hat{t} }  &amp;
z_{\hat{g}\times\hat{t} }  &amp; 0 \\
x_{t}  &amp; y_{t}  &amp; z_{t}  &amp; 0 \\
x_{-g}  &amp; y_{-g}  &amp; z_{-g}  &amp; 0 \\
0  &amp; 0  &amp; 0  &amp; 1
\end{bmatrix}
\begin{bmatrix}
1  &amp; 0  &amp; 0  &amp; -x_e \\
0  &amp; 1  &amp; 0  &amp; -y_e \\
0  &amp; 0  &amp; 1  &amp; -z_e \\
0  &amp; 0  &amp; 0  &amp; 1
\end{bmatrix}
\]</span></p>
<h4 id="projection-transformation">Projection transformation</h4>
<p>Orthographic projection</p>
<p>投影空间为cuboid，六个面延长之后分别与x轴交于l、r，与y轴交于t、b，与z轴交于n、f。
<span class="math display">\[
M_{ortho}=
\begin{bmatrix}
\frac{2}{r-l} &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; \frac{2}{t-b} &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; \frac{2}{n-f} &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\
0 &amp; 1 &amp; 0 &amp; -\frac{t+b}{2}\\
0 &amp; 0 &amp; 1 &amp; -\frac{n+f}{2}\\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\]</span> Perspective projection</p>
<p>投影空间为frustum，先挤压为cuboid，再Orthographic projection。 <span
class="math display">\[
M_{squish}=
\begin{bmatrix}
n &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; n &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; n+f &amp; -nf \\
0 &amp; 0 &amp; 1 &amp; 0
\end{bmatrix}
\]</span> <span class="math display">\[
M_{persp} = M_{ortho}M_{squish}=
\begin{bmatrix}
\frac{2n}{r-l} &amp; 0 &amp; \frac{l+r}{l-r} &amp; 0 \\
0 &amp; \frac{2n}{t-b} &amp; \frac{b+t}{b-t} &amp; 0 \\
0 &amp; 0 &amp; \frac{n+f}{n-f} &amp; \frac{2nf}{f-n} \\
0 &amp; 0 &amp; 1 &amp; 0
\end{bmatrix} \\
\]</span>
透视投影得到的点在齐次坐标系（称为在裁剪空间内），需要使用<strong>透视除法</strong>将该点从齐次坐标系转换到笛卡尔坐标系（称为在NDC（标准设备坐标）内）。透视除法将顶点四个分量都除以w。</p>
<h2 id="rasterization-1-triangles">05 Rasterization 1 (Triangles)</h2>
<p>FOV（field of view）视场角计算方法：</p>
<p>水平FOV=2artan(胶片宽/2/镜头焦距）</p>
<p>垂直FOV=2artan(胶片高/2/镜头焦距）</p>
<p>MVP（Model、View、Projection）转换后在屏幕上光栅化成像。</p>
<p>屏幕空间即像素矩阵，每个像素看作一个小方块。</p>
<p>Viewport transform matrix: <span class="math display">\[
M_{viewport}=
\begin{pmatrix}
\frac{width}{2} &amp; 0 &amp; 0 &amp; \frac{width}{2}\\
0 &amp; \frac{height}{2}  &amp; 0 &amp; \frac{height}{2}\\
0 &amp; 0  &amp; 1 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 1
\end{pmatrix}
\]</span> 与z不相关，在xy平面做变换：<span
class="math inline">\([-1,1]^2\)</span>到<span
class="math inline">\([0,width]\times[0,height]\)</span>。</p>
<p><strong>光栅化设备</strong>部分参见虎书3.1笔记。</p>
<p>实际设备上每个像素由RGB三种感光元件组成。</p>
<p>光栅化方法：遍历像素，判断像素中心点是否在三角形内（叉积判断法）。可以用AABB（axis
aligned bounding box）加速。</p>
<p>❓三角形公共边上的点属于哪个三角形：OpenGL和DirectX规定，如果有点落在三角形的上边和左边的话，认为这个点在三角形内，落在右边和下边，认为在三角形外。没有看懂。</p>
<h2 id="rasterization-2-antialiasing-and-z-buffering">06 Rasterization 2
(Antialiasing and Z-Buffering)</h2>
<p>Sampling Artifacts的类型：</p>
<ul>
<li>Jaggies - sampling in space</li>
<li>Moire - undersampling images</li>
<li>Wagon wheel effect - sampling in time</li>
</ul>
<p>讲了傅里叶变换和滤波（数字图像处理的知识）。</p>
<p>Antialiasing方法：</p>
<ul>
<li>先Blurring再Sample，MSAA（Multisampling）。像素划分为更小的子像素后，像素颜色＝三角形颜色X三角形覆盖子像素数／总子像素数。</li>
<li>FXAA（Fast Approximate）。图像后处理，找到边界并处理。</li>
<li>TAA (Temporal)
。复用上一帧的结果，相当于将MSAA对应的样本分布在时间上。</li>
</ul>
<p>超分和AA本质相似，因为超分也是在提高采样率。DLSS（Deep Learning Super
Sampling）让AI来猜缺失的细节。</p>
<h2 id="shading-1-illumination-shading-and-graphics-pipeline">07 Shading
1 (illumination, Shading and Graphics Pipeline)</h2>
<p>先讲上一节的<strong>Z-Buffer</strong>。</p>
<p>对每个像素存深度值z（正数），z越小越近（深度图中表现为越黑），z越大越远（深度图中表现为越白）。</p>
<p>每一帧对应一张深度图，深度值初始为无限大，遍历三角形更新深度图。复杂度为O(n)，n为三角形数量。由GPU硬件实现。</p>
<p>Shading</p>
<p>字典定义：The darkening or coloring of an ilustration or diagram with
parallel lines or a block of color.</p>
<p>本课程定义：The process of applying a material to an object.</p>
<p>Shading部分讲了<strong>Blinn-Phong Reflectance
Model</strong>，参见虎书笔记5.2、5.3。</p>
<h2 id="shading-2-shading-pipeline-and-texture-mapping">08 Shading 2
(Shading, Pipeline and Texture Mapping)</h2>
<p>Flat shading 每个面计算一次着色，一个三角形上所有点颜色相同。</p>
<p>Gouraud shading
每个顶点计算一次着色，三角形内部点颜色由顶点颜色插值得到。</p>
<p>Phong shading
每个像素计算一次着色，三角形内部点法线由顶点法线插值得到。</p>
<p>顶点法线由相邻面的法线求加权平均得到（权重为三角形面积）。</p>
<p>三角形插值时使用<strong>重心坐标</strong>。<img
src="https://bit704.oss-cn-beijing.aliyuncs.com/image/2023-11-25-graphics-pipeline.png" srcset="/img/loading.gif" lazyload /></p>
<p>图形管线详细参见DX12龙书笔记第五章笔记。</p>
<p>shadertoy：在线着色器编写与渲染网站。</p>
<p>纹理映射即将二维表面蒙在三维物体表面。</p>
<p>Wang tile：一种生成可密铺纹理的算法。</p>
<h2 id="shading-3-texture-mapping-cont.">09 Shading 3 (Texture Mapping
Cont.)</h2>
<p>A、B、C为三角形顶点坐标，对三角形所在平面上任意一点<span
class="math inline">\((x,y)\)</span>，<strong>重心坐标</strong><span
class="math inline">\(\alpha、\beta、\gamma\)</span>代表： <span
class="math display">\[
(x,y)=\alpha A+\beta B+\gamma C \\
\alpha+\beta+\gamma=1
\]</span> 重心坐标可由面积求得。例如，对于点P，<span
class="math inline">\(\alpha=\frac{S_{PBC}}{S_{ABC}}\)</span>。</p>
<p>透视投影是非线性的，因此透视投影或需要对重心坐标进行矫正。应从屏幕空间逆变换回三维空间，再用重心坐标插值。</p>
<p>纹理&lt;平面，纹理放大：</p>
<ul>
<li>Nearest</li>
<li>Bilinear</li>
<li>Bicubic</li>
</ul>
<p>纹理&gt;平面，缩小导致摩尔纹，可以通过超采样解决（增大平面上每个点在纹理上的采样数，与MSAA类似）。工程中用<strong>mipmap</strong>预存范围查询的平均结果进行加速。</p>
<p>普通的mipmap范围查询区域为正方形，而实际区域并不规则，导致过模糊。用Anisotropic
Filtering可以解决：</p>
<ul>
<li>Ripmaps and summed area tables</li>
<li>EWA filtering</li>
</ul>
<p><img
src="https://bit704.oss-cn-beijing.aliyuncs.com/image/2023-11-25-irregular-pixel-footprint.png" srcset="/img/loading.gif" lazyload /></p>
<h2 id="geometry-1-induction">10 Geometry 1 (Induction)</h2>
<p>先讲上一节的纹理应用。</p>
<p>环境贴图：</p>
<ul>
<li>Spherical Environment Map</li>
<li>Cube Map</li>
</ul>
<p>Bump/Normal mapping改变法线，不改变几何。</p>
<p>Displacement
mapping改变几何。相比Bump/Normal边缘也可以看出变化，并且会产生自阴影。Displacement需要三角形网格足够细，DirectX的dynamic
tessellation可以动态决定。</p>
<p>纹理可以定义3D Procedural Noise用于地形建模。</p>
<p>预计算AO纹理。</p>
<p>3D纹理和体渲染。</p>
<p><strong>几何表示方法</strong></p>
<p>Implicit：</p>
<ul>
<li>algebraic surface</li>
<li>level sets</li>
<li>distance functions</li>
<li>Constructive Solid Geometry</li>
<li>Fractals（分形）</li>
</ul>
<p>Explicit：</p>
<ul>
<li>point cloud</li>
<li>polygon mesh</li>
<li>subdivision, NURBS</li>
</ul>
<h2 id="geometry-2-curves-and-surfaces">11 Geometry 2 (Curves and
Surfaces)</h2>
<p>介绍了The Wavefront Object File (.obj) 的格式。</p>
<p><strong>Curves</strong></p>
<ul>
<li>Bezier curves
<ul>
<li>De Casteljau’s algorithm 绘制</li>
<li>quadratic Bezier 三控制点</li>
<li>Cubic Bézier Curve 四控制点</li>
</ul></li>
<li>B-splines
<ul>
<li>贝塞尔曲线的扩展，具有局部性</li>
</ul></li>
</ul>
<p><strong>Surfaces</strong></p>
<ul>
<li>Bezier surfaces</li>
<li>Triangles &amp; quads (subdivision, simplification, regularization)
<ul>
<li>regularization指让三角形网格都接近正三角形。</li>
</ul></li>
</ul>
<h2 id="geometry-3">12 Geometry 3</h2>
<p><strong>Subdivision</strong></p>
<ol type="1">
<li>拆分三角形</li>
<li>调整顶点位置</li>
</ol>
<p>Loop Subdivision（Loop是作者姓氏，无循环义）（仅适用三角形网格）</p>
<p>Catmull-Clark Subdivision（适用有四边形也有三角形的网格）</p>
<p><strong>Simplification</strong></p>
<p>edge collapsing，最小化Quadric Error
Metrics（新的点到原本几个面的距离平方和达到最小）。</p>
<p><strong>Shadow Mapping</strong></p>
<p>An Image-space
Algorithm，不知道场景几何信息，需要处理走样。只能做硬阴影，有数值精度问题。</p>
<ol type="1">
<li>在光源处用虚拟摄像机光栅化，对每一点得到深度a</li>
<li>在摄像机处光栅化，成像的点投影回光源处，得到深度b</li>
<li>摄像机光栅化得到的图像上a和b不同的点则有阴影</li>
</ol>
<p><strong>软阴影</strong>有过渡。物理上所称的半影（Penumbra）：</p>
<p><img
src="https://bit704.oss-cn-beijing.aliyuncs.com/image/2023-11-25-penumbra.png" srcset="/img/loading.gif" lazyload /></p>
<p>软阴影的产生是因为光源有一定的大小，点光源无法产生软阴影。</p>
<h2 id="ray-tracing-1-whitted-style-ray-tracing">13 Ray Tracing 1
(Whitted-Style Ray Tracing)</h2>
<p>光栅化的缺点：不能很好的处理全局效果（Soft shadows、Glossy
reflection、Indirect illumination）。</p>
<p>光线追踪准确而且质量高，但是慢。</p>
<p><strong>Basic Ray-Tracing Algorithm</strong></p>
<p>从相机出发向世界中投射光线（Ray
Casting），判断是否对光源可见。（光路可逆）</p>
<p><strong>Whitted-Style Ray Tracing</strong></p>
<p>投射光线后多次弹射（反射或折射），像素值为多个弹射点的着色值之和。</p>
<ul>
<li>primary ray：投射的第一根光线</li>
<li>secondary rays：一次弹射之后的光线</li>
<li>shadow rays：和光源相连判断可见性的光线</li>
</ul>
<p>关键问题：Ray-Surface Intersection</p>
<h2 id="ray-tracing-2-acceleration-radiometry">14 Ray Tracing 2
(Acceleration &amp; Radiometry)</h2>
<p>AABB：划分为均匀格子，需要考虑划分密度。（Heuristics：常数27乘以3D场景中物体的数量）</p>
<p>Oct-Tree：每次均八分，直到格子里为空或物体足够少。</p>
<p>KD-Tree：每次二分（不均分，但轴对齐）。</p>
<p>BSP-Tree： 每次二分（不均分，且不轴对齐）。</p>
<p>BVH（Bounding Volume Hierarchy ）：按物体划分。</p>
<p>BVH优点：</p>
<ol type="1">
<li>一个几何只出现在一个叶子节点里</li>
<li>不用求几何和包围盒的交</li>
</ol>
<p><strong>辐射度量学（Radiometry）</strong></p>
<p>辐射能（radiant energy）<span class="math inline">\(Q\)</span>：<span
class="math inline">\(J\)</span>。</p>
<p>辐射通量（radiant flux）<span
class="math inline">\(\Phi\)</span>：<span
class="math inline">\(W\)</span>（即<span
class="math inline">\(J/s\)</span>）或<span
class="math inline">\(lm\)</span>。</p>
<p>辐射强度（radiant Intensity）<span
class="math inline">\(I\)</span>：<span
class="math inline">\(W/sr\)</span>或<span
class="math inline">\(cd\)</span>。<span
class="math inline">\(cd\)</span>是七个SI单位之一。</p>
<p>辐照度（irradiance）<span class="math inline">\(E\)</span>：<span
class="math inline">\(W/m^2\)</span>或<span
class="math inline">\(lux\)</span></p>
<p>辐射率（radiance）<span class="math inline">\(L\)</span>：<span
class="math inline">\(W/(m^2\cdot sr)\)</span>或<span
class="math inline">\(nit\)</span></p>
<p>BRDF值<span class="math inline">\(f\)</span>：<span
class="math inline">\(sr^{-1}\)</span> （<span
class="math inline">\(L/E\)</span>）</p>
<h2 id="ray-tracing-3-light-transport-global-llumination">15 Ray Tracing
3 (Light Transport &amp; Global llumination)</h2>
<p><strong>渲染方程</strong>（反射方程+自发光项）： <span
class="math display">\[
L_r(x,w_r)=L_e(x,w_r)+\int_{\Omega}L_i(x,w_i)f(x,w_i,w_r)\cos
\theta_id\omega_i
\]</span></p>
<p>reflected light = emission + integral of Incident light * BRDF *
cosine of incident angle</p>
<p>简化： <span class="math display">\[
L=E+KL \\
L=(1-K)^{-1}E \\
\]</span> 泰勒展开： <span class="math display">\[
L=(1+K+K^2+K^3+...)E
\]</span> 幂指数即弹射次数。</p>
<p>回顾了一下概率论。</p>
<h2 id="ray-tracing-4-monte-carlo-path-tracing">16 Ray Tracing 4 (Monte
Carlo Path Tracing)</h2>
<p>介绍了蒙特卡洛积分。</p>
<p>Whitted-Style Ray Tracing缺陷：</p>
<ul>
<li>对于镜面反射正确，对于glossy反射错误（没有考虑粗糙度）。</li>
<li>在漫反射表面就停止了，不继续弹射，没有Color bleeding。</li>
</ul>
<p>用蒙特卡洛积分解渲染方程： <span class="math display">\[
\int_{\Omega}L_i(x,w_i)f(x,w_i,w_r)\cos\theta_id\omega_i\approx
\frac{1}{N}\sum_{i=1}^{N}\frac{L_i(x,w_i)f(x,w_i,w_r)\cos\theta_i}{p(w_i)}
\]</span> <span
class="math inline">\(p(w_i)\)</span>即PDF，若对半球均匀采样，<span
class="math inline">\(p(w_i)=\frac{1}{2\pi}\)</span>。</p>
<p>取N=1，并随机停止追踪，避免计算量爆炸。</p>
<p>SPP（samples per pixel）：一个像素打出多少光线。</p>
<p>若光源小，SPP过低会出现大量噪点，打不到光源。在光源上采样PDF可以避免浪费光线：
<span class="math display">\[
dw=\frac{dAcos\theta&#39;}{\left \|x^{&#39;}-x\right \|^2}
\]</span> <span class="math inline">\(A\)</span>是光源面积，<span
class="math inline">\(x^{&#39;}\)</span>是光源位置，<span
class="math inline">\(x\)</span>是着色点位置，<span
class="math inline">\(\theta&#39;\)</span>是着色点与光源连线与光源法线的夹角。</p>
<p>Modern Concepts：</p>
<ul>
<li>(unidirectional &amp; bidirectional) path tracing</li>
<li>Photon mapping</li>
<li>Metropolis light transport</li>
<li>VCM/UPS (vertex connection merging/unified path sampling)</li>
<li>UPBP (unifying points, beams, and paths in volumetric light
transport simulation)</li>
</ul>
<h2 id="materials-and-appearances">17 Materials and Appearances</h2>
<p>Material==BRDF</p>
<p><strong>Diffuse / Lambertian Material</strong>（BRDF）</p>
<p><span
class="math inline">\(\rho\)</span>为albedo，对于理想漫发射，BRDF值<span
class="math inline">\(f_r=\frac{\rho}{\pi}\)</span>，是因为能量守恒的要求：
<span class="math display">\[
\begin{align} &amp;\int_{\Omega} f_r \cos\theta_i \, \mathrm{d}\omega_i
\\
=&amp; f_r \int_{\Omega} \cos\theta_i \, \mathrm{d}\omega_i \\
=&amp; f_r \int_{0}^{2\pi} \int_{0}^{\frac{\pi}{2}} \cos\theta
\sin\theta\mathrm{d}\theta\mathrm{d}\phi \\
=&amp; f_r \cdot \int_{0}^{2\pi} \mathrm{d}\phi \cdot
\int_{0}^{\frac{\pi}{2}} \cos\theta \sin\theta\mathrm{d}\theta \\
=&amp; f_r \times 2\pi \times \frac{1}{2} \\
=&amp; f_r \times \pi \\
\end{align} \\
\]</span> <strong>Glossy material</strong>（BRDF）</p>
<p>Blinn–Phong model：</p>
<p><span class="math display">\[
f_r=k_smax(0,n\cdot h)^p
\]</span> <strong>Ideal reflective / refractive material</strong>
(BSDF)</p>
<p>Caustics（焦散：不准确的翻译，因为成因是聚焦，和散射没关系）：海水表面凹凸不平，光线向不同方向折射，在海底聚焦。</p>
<p><strong>Snell’s Law</strong> <span class="math display">\[
\eta_isin\theta_i=\eta_tsin\theta_t
\]</span> index of refraction (IOR) for incident ray <span
class="math inline">\(\eta_i\)</span></p>
<p>index of refraction (IOR) for exiting ray <span
class="math inline">\(\eta_t\)</span></p>
<p><span class="math inline">\(\eta_i&gt;\eta_t\)</span>时没有折射。</p>
<p>Snell’s
Window：从水下看上去，180度的视角被压成97.2度的光锥。由光线进入水中的大角度折射引起的。</p>
<p><strong>Fresnel Reflection /
Term</strong>：表示反射折射之比，Schlick’s approximation： <span
class="math display">\[
R_0=(\frac{n1-n2}{n1+n2})^2
\]</span> <span class="math display">\[
R(\theta)=R_0+(1-R_0)(1-cos\theta)^5
\]</span> <strong>Torrance-Sparrow microfacet model</strong></p>
<p><span class="math display">\[
f_r=\frac{F(l,h)G(l,v,h)D(h)}{4(n\cdot l)(n\cdot v)}
\]</span> F是Fresnel Term。</p>
<p>G是Shadowing Masking，如果没有G，球的边界（grazing
angle）会非常亮。</p>
<p>D是Distribution of
Normals，计算有多少微面元的法线m满足m=h（入射出射半向量）。</p>
<p><strong>Properties of BRDFs</strong></p>
<ul>
<li>Non-negativity</li>
<li>Linearity（拆分之后计算再相加，例如diffuse、specular、ambient）</li>
<li>Reciprocity principle</li>
<li>Energy conservation</li>
<li>Isotropic / Anisotropic（Isotropic BRDF少一个自由度，为3维）</li>
</ul>
<p><strong>Measuring BRDFs</strong></p>
<p>MERL BRDF Database</p>
<h2 id="advanced-topics-in-rendering">18 Advanced Topics in
Rendering</h2>
<h3 id="advanced-light-transport">Advanced Light Transport</h3>
<h4 id="unbiased-light-transport-methods">Unbiased light transport
methods</h4>
<p><strong>Bidirectional path tracing</strong> (BDPT)</p>
<p>从光源和相机都出发，生成半路径（light
sub-paths），连接成完整路径。</p>
<p>当光线传播在光源这半边比较容易算的时候（直接照亮场景中一小块区域，其它区域都是间接光照亮），BDPT的效果会更好，但速度相对慢。不能处理SDS。</p>
<blockquote>
<p>Caustics的路径SDS（specular-diffuse-specular）。</p>
</blockquote>
<p><strong>Metropolis light transport</strong> (MLT)</p>
<p>因为采样的PDF和要积分的函数形状一致时方差最小。使用Markov
Chain的蒙特卡洛方法。</p>
<p>适合Caustics。积分复杂，难以理论上分析渲染速度。具有局部性，有些像素收敛快，有些像素收敛慢，图像看上去脏，并且每一帧间有抖动，不适合做动画。</p>
<h4 id="biased-light-transport-methods">Biased light transport
methods</h4>
<p><strong>Photon mapping</strong></p>
<ol type="1">
<li>从光源出发发射光子，在diffuse表面停止。</li>
<li>从相机出发发射路径，在diffuse表面停止。</li>
<li>局部密度估计。对一个着色点，取周围最近的N个光子，用光子的数量N除以它们占的面积A。有偏是因为<span
class="math inline">\(dN/dA!=\Delta N/\Delta
A\)</span>。虽然有偏（biased）但一致（consistent），指样本数量接近无限时期望收敛到正确结果。</li>
</ol>
<p><strong>Vertex connection and merging</strong> (VCM)</p>
<p>BDPT和Photon
mapping的结合。前者不能处理SDS，后者处理diffuse不如前者，互补。</p>
<h4 id="instant-radiosity">Instant radiosity</h4>
<p>(IR) (many light methods)</p>
<p>Unbiased.</p>
<p>已经被照亮的地方都可以认为它们是光源，Virtual Point Light
(VPL)。看到着色点后用所有VPL照亮。</p>
<p>窄的缝隙产生错误的发光，因为光源与着色点过近。不能做glossy。</p>
<h3 id="advanced-appearance-modeling">Advanced Appearance Modeling</h3>
<h4 id="non-surface-models">Non-surface models</h4>
<p><strong>Participating media</strong></p>
<p>散射介质，如云、雾。</p>
<p><strong>Hair / fur / fiber</strong></p>
<p>头发表面有两种高光，一种无色发白，一种有色。按照Marschner
Model，Reflection记作R、Transmission记作T，有R、TT、TRT三种光线。（BCSDF）</p>
<p>毛发有cuticle（表皮）、cortex（皮层）、Medulla（髓质）三层结构，，动物毛发结构和人的头发髓质大小不同。</p>
<p><strong>Granular material</strong></p>
<p>颗粒状，如盐、糖等。</p>
<h4 id="surface-models">Surface models</h4>
<p><strong>Translucent material (BSSRDF)</strong></p>
<p>translucent不应翻译为半透明（semitransparent）。</p>
<p>semitransparent：沿着一个方向传播并被吸收。</p>
<p>translucent：光线从一个面进入，从另一个面离开，可以被导到其它方向去。</p>
<p><strong>Cloth</strong></p>
<p>fiber缠绕成ply（股），ply缠绕成yarn（线），线编织成布。</p>
<ol type="1">
<li>当成participating media渲染</li>
<li>渲染每一根fiber</li>
</ol>
<p><strong>Detailed material (non-statistical BRDF)</strong></p>
<p>若使用分辨率极高的法线贴图，渲染十分困难。</p>
<p><img
src="https://bit704.oss-cn-beijing.aliyuncs.com/image/2023-11-26-high-resolution-normal-map.png" srcset="/img/loading.gif" lazyload /></p>
<p>考虑一个像素会覆盖很多的微表面，将微表面的分布拿出来（在一个小范围内的微表面的法线分布NDF算出来），替代原本光滑的分布，用在微表面模型里。</p>
<p>引入波动光学：衍射和干涉现象。</p>
<h4 id="procedural-appearance">Procedural appearance</h4>
<p>不使用纹理，使用噪声函数，随用随取。</p>
<h2 id="cameras-lenses-and-light-fields">19 Cameras, Lenses and Light
Fields</h2>
<p>Imaging = Synthesis + Capture</p>
<h3 id="camera">Camera</h3>
<p>Sensor记录的是irradiance。</p>
<p>针孔相机拍不出景深。透镜相机才可以。光追用的针孔相机。</p>
<p>05节笔记记载了FOV的计算方法。人们通常以35mm格式的胶片（film）为基准，固定传感器的大小，再通过定义焦距的方式来定义FOV。比如，17mm焦距对应广角104度。手机的胶片小很多，显示的是等效焦距（若胶片为基准胶片）。</p>
<p>影响Exposure（曝光）：</p>
<ul>
<li>Aperture size 光圈的大小</li>
<li>Shutter speed 快门速度</li>
<li>ISO gain ISO 增益/感光度</li>
</ul>
<h3 id="lens">Lens</h3>
<p>现代成像使用透镜组。</p>
<p>Ideal Thin Lens：</p>
<ol type="1">
<li>All parallel rays entering a lens pass through its focal point.</li>
<li>All rays through a focal point will be in parallel after passing the
lens.</li>
<li>Focal length can be arbitrarily changed.</li>
</ol>
<p>The Thin Lens Equation： <span class="math display">\[
\frac{1}{f}=\frac{1}{z_i}+\frac{1}{z_o}
\]</span> 物距<span class="math inline">\(z_o\)</span>，像距<span
class="math inline">\(z_i\)</span>，焦距<span
class="math inline">\(f\)</span>。</p>
<p><strong>Defocus Blur</strong></p>
<p>可解释景深。</p>
<p>一个点穿过透镜后，若像距对应成像平面远离真实的成像平面，会形成Circle
of Confusion (CoC)。</p>
<p>F数（F-Stop）<span
class="math inline">\(N=f/D\)</span>，焦距/光圈直径。CoC大小和F数成反比。</p>
<p>光圈通过挡透镜动态改透镜的大小。</p>
<p><strong>Depth of Field</strong></p>
<p>景深。CoC很小的一段范围内对应的场景的一段是清晰的。</p>
<h2 id="color-and-perception">20 Color and Perception</h2>
<h3 id="light-field-lumigraph">Light Field / Lumigraph</h3>
<blockquote>
<p>SIGGRAPH 2012 course on light fields</p>
</blockquote>
<p><strong>The Plenoptic Function</strong> <span class="math display">\[
P(\theta,\phi,\lambda,t,V_x,V_y,V_z)
\]</span>
光场是全光函数的一小部分，描述任何一个位置的一个方向的光强。</p>
<p>光场是四维函数，使用二维位置（<span
class="math inline">\(uv\)</span>）和二维方向（<span
class="math inline">\(\theta\phi\)</span>）。</p>
<p>光照相机每个像素对应一个微透镜，拍摄的照片实际上记录了光场，可以重新聚焦得到普通相机照的照片。</p>
<h3 id="color">Color</h3>
<p><strong>光谱</strong>：谱功率密度（SPD，Spectral Power
Distribution），不同的波长的强度，<span
class="math inline">\(W/nm\)</span>。SPD满足加法定律。</p>
<p>颜色是human perception。</p>
<p>讲了人眼的结构。视网膜上的Rods（视杆细胞）感知光强，Cones（视锥细胞）感知颜色。Cones分为S、M、L三种，分别感知短波长、中间波长、长波长。</p>
<p><strong>同色异谱</strong>（Metamerism）：光谱不同看到的颜色相同。显示器利用此原理。</p>
<p><strong>Color Reproduction / Matching</strong></p>
<p>红黄蓝三原色<strong>减色混合</strong>得到其它的颜色。显示器使用红绿蓝的<strong>加色混合</strong>。</p>
<p>讲了sRGB、CIE XYZ、HSV、CIE LAB颜色空间。</p>
<p>印刷中使用<strong>CMYK</strong>（Cyan青、Magenta品红、Yellow黄、Key黑）减色系统。使用黑色是因为成本低。</p>
<h2 id="animation">21 Animation</h2>
<p>讲了动画的历史。</p>
<p>Keyframe Animation</p>
<p>Physical Simulation</p>
<ul>
<li>Newton’s Law</li>
<li>Mass Spring System</li>
<li>Particle Systems</li>
<li>Simulated Flocking as an ODE</li>
</ul>
<p>Kinematics</p>
<ul>
<li>Forward Kinematics</li>
<li>Inverse Kinematics</li>
</ul>
<p>Rigging</p>
<blockquote>
<p>对物体或角色的不同地方加一些控制点</p>
</blockquote>
<h2 id="animation-cont.">22 Animation Cont.</h2>
<p>Single particle simulation</p>
<ul>
<li>Explicit Euler method</li>
<li>Instability and improvements</li>
</ul>
<p>Rigid body simulation</p>
<p>Fluid simulation</p>
<ul>
<li>A Simple Position-Based Method</li>
<li>Eulerian vs. Lagrangian</li>
<li>Material Point Method</li>
</ul>
<h1 id="games104-现代游戏引擎入门必修课">GAMES104
现代游戏引擎入门必修课</h1>
<p>王希老师</p>
<p><a target="_blank" rel="noopener" href="https://games104.boomingtech.com/sc/">GAMES104</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/BoomingTech/Piccolo">BoomingTech/Piccolo:
Piccolo (formerly Pilot) – mini game engine for games104</a></p>
<h1 id="games202-高质量实时渲染">GAMES202 高质量实时渲染</h1>
<p>闫令琪老师</p>
<p><a
target="_blank" rel="noopener" href="https://sites.cs.ucsb.edu/~lingqi/teaching/games202.html">GAMES202</a></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Notebook/" class="category-chain-item">Notebook</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/CG/">#CG</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>GAMES笔记</div>
      <div>https://reddish.fun/posts/Notebook/GAMES-note/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>bit704</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年1月5日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/Notebook/Fundamentals-of-Computer-Graphics-5th-note/" title="《Fundamentals of Computer Graphics》第五版笔记">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">《Fundamentals of Computer Graphics》第五版笔记</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/Notebook/Introduction-to-3D-Game-Programming-with-DirectX-12-note/" title="《DirectX 12 3D 游戏开发实战》笔记">
                        <span class="hidden-mobile">《DirectX 12 3D 游戏开发实战》笔记</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <br> 欢迎光临 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
